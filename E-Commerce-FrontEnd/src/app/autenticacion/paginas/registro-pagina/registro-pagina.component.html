<!-- Registro -->

<div class="registro-contenedor rounded">

    <h2> Registro </h2>
            
    <form [formGroup]="formularioRegistro" (ngSubmit)="registrarse()">

            <div class="controles-contenedor">
                    <div class="control-contenedor">
                        <label class="form-label" for="nombre">Nombre</label> 
                        <input class="form-control" 
                                type="text" 
                                id="nombre"
                                formControlName="nombre">
                        <span class="text-danger" *ngIf="elCampoEsValido('nombre')">{{ obtenerErrorDeCampo('nombre') }}</span>
                    </div>

                    <div class="control-contenedor">
                        <label class="form-label" for="apellido">Apellido</label> 
                        <input class="form-control" 
                                type="text" 
                                id="apellido" 
                                formControlName="apellido">
                        <span class="text-danger" *ngIf="elCampoEsValido('apellido')">{{ obtenerErrorDeCampo('apellido') }}</span>
                    </div>

                    <div class="control-contenedor">
                        <label class="form-label" for="fechaNacimiento">Fecha de nacimiento</label> 
                        <input class="form-control control-fecha" 
                                type="date" 
                                id="fechaNacimiento"
                                min="1940-01-01"
                                [max]="fechaDehoy"
                                formControlName="fechaNacimiento">
                        <span class="text-danger" *ngIf="elCampoEsValido('fechaNacimiento')">{{ obtenerErrorDeCampo('fechaNacimiento') }}</span>
                    </div>

                    <div class="control-contenedor">
                        <label class="form-label" for="email">Correo</label> 
                        <input class="form-control" 
                                type="email" 
                                id="email" 
                                formControlName="correoElectronico">
                        <span *ngIf="(formularioRegistro.controls['correoElectronico'].statusChanges | async )  === 'PENDING'">
                                <img class="spinner" src="/assets/spinner.svg">Comprobando disponibilidad...
                        </span>
                        <span class="text-danger" *ngIf="elCampoEsValido('correoElectronico')">{{ obtenerErrorDeCampo('correoElectronico') }}</span>
                    </div>
                    
                    <div class="control-contenedor">
                        <label class="form-label" for="password">Contraseña</label>
                        <input class="form-control" 
                                type="password" 
                                id="password" 
                                formControlName="password">
                        <span class="text-danger" *ngIf="elCampoEsValido('password')">{{ obtenerErrorDeCampo('password') }}</span>
                    </div>
                                        
                    <div class="control-contenedor">
                        <label class="form-label" for="password2">Confirmar contraseña</label>
                        <input class="form-control" 
                                type="password" 
                                id="password2" 
                                formControlName="password2">
                        <span class="text-danger" *ngIf="elCampoEsValido('password2')">{{ obtenerErrorDeCampo('password2') }}</span>
                    </div>
                
            </div>  

            <button class="btn btn-primary" 
                    type="submit"
                    [disabled]="formularioRegistro.invalid"
                    >
                    Registrarse
            </button>

    </form>

    <span>¿Ya tienes una cuenta? <a routerLink="/autenticacion/login">INGRESA</a></span>

</div>

